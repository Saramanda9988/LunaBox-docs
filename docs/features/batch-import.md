# 批量导入游戏库

LunaBox 支持批量导入游戏库，通过扫描游戏目录自动识别游戏并匹配元数据。请按照以下步骤操作：

## 1. 准备工作
确保您的游戏已按照文件夹结构组织，每个游戏在一个独立的文件夹中，且包含可执行文件。LunaBox仅支持识别一级子目录中的游戏可执行程序

## 2. 选择游戏库目录
- 在游戏库页面，点击 **添加游戏** 按钮，选择 **批量导入** 选项。
- 在弹出的目录选择对话框中，选择包含多个游戏文件夹的父目录。
- 系统将扫描该目录下的一级子目录，识别包含可执行文件的文件夹作为游戏。

## 3. 预览和配置
![img.png](/image/batch-import.png)
系统会显示检测到的游戏列表，您可以进行以下操作：

### 选择游戏
- 使用复选框选择要导入的游戏

### 修改搜索名称
- 点击游戏名称字段可修改用于搜索元数据的名称
- 系统默认使用上一级文件夹名称作为搜索名称

### 选择可执行文件
- 如果一个游戏文件夹包含多个可执行文件，系统会自动推荐启动程序
- 您也可以从下拉列表中选择正确的启动程序

::: info
- 在点击“匹配元数据”前，简单检查一下识别出的“搜索名称”，删除多余的字符（如 `v1.2`, `汉化版` 等），能显著提高匹配成功率。
:::

## 4. 匹配元数据
- 点击 **开始匹配元数据** 按钮，系统将自动从 Bangumi（优先，需要您配置token）、VNDB、月幕gal 等数据源获取游戏信息
- 匹配过程会显示进度条，为避免触发限流，匹配速度可能较慢，请耐心等待
- 匹配完成后，系统会显示匹配结果，包括成功匹配和未匹配的游戏
- 如果您认为自动匹配源的数据并不匹配，可以点击手动选择按钮，选择当次获取结果中的其他源的结果，或者通过 ID 手动搜索
![img_3.png](/image/batch-import-3.png)
- 想重新搜索，请在修改名称后重新点击获取元信息按钮
![img_1.png](/image/batch-import-1.png)
![img_2.png](/image/batch-import-2.png)

### 手动选择元数据
对于自动匹配失败的游戏，您可以：
- 通过 ID 手动搜索
- 如果无法找到对应的信息，您可以选择跳过该游戏的元数据匹配，修改游戏的搜索名称为您想保存的名字，稍后再进行补充

## 5. 导入游戏
- 在完成元数据匹配后，点击 **导入 X 个游戏** 按钮
- 系统将导入选中的游戏，包括基本信息、封面图片和执行路径

::: warning
#### 注意事项
- LunaBox保存的游戏名是元数据中获取的游戏名/用于搜索的游戏名（未匹配的游戏），如果游戏名称已存在，系统会跳过该游戏，确保不重复导入
- 元数据匹配过程需要网络连接
- 为避免触发 API 限流，匹配过程会自动控制请求频率，匹配时间可能较长，请耐心等待
:::